<?xml version="1.0" encoding="utf-8"?>
<templates>

    <!-- Supplier templates-->
    <t t-name="supplier_selector">
        <div class="container">
            <div class="search-row row">
                <div class="col-md-12">
                    <div id="custom-search-input">
                        <div class="input-group col-md-12">
                            <input type="text" id="search_bar" class="form-control input-lg" placeholder="Search for a supplier" />
                            <span class="input-group-btn">
                                <button class="btn btn-info btn-lg" type="button">
                                    <i class="glyphicon glyphicon-search"></i>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <h2>Select the supplier</h2>
            <div id="results" class="result-row" ></div>
        </div>
    </t>

    <t t-name="supplier_result">
        <t t-foreach="suppliers" t-as="supplier">
            <div class="col-xs-2 col-md-2">
                <a href="#" class="thumbnail" t-att-data-id="supplier.id">
                    <div class="square" t-att-style="'background-image:url(\'' + supplier.image + '\');'"></div>
                </a>
                <div class="square-label">
                    <span t-esc="supplier.name"/>
                </div>
            </div>
        </t>
    </t>

    <!-- products template -->
    <t t-name="product_selector">
        <div class="container">
            <div class="search-row row">
                <div class="col-md-12">
                    <div id="custom-search-input">
                        <div class="input-group col-md-12">
                            <input type="text" id="search_bar" class="form-control input-lg" placeholder="Search for a product" />
                            <span class="input-group-btn">
                                <button class="btn btn-info btn-lg" type="button">
                                    <i class="glyphicon glyphicon-search"></i>
                                </button>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <hr/>
            <div id="results" class="scan-row">
                <div class="col-md-12">
                    <div class="text-center"><h1>Scan a product</h1></div>
                    <img src="/stock_irm/static/img/scan.jpg" class="center-block img-responsive" />
                </div>
            </div>
        </div>
    </t>

    <t t-name="product_result">
        <t t-foreach="products" t-as="product">
            <div class="col-xs-2 col-md-2">
                <a href="#" class="thumbnail" t-att-data-id="product.id">
                    <div class="square" t-att-style="'background-image:url(\'' + product.image + '\');'"></div>
                </a>
                <div class="square-label">
                    <span t-esc="product.name"/>
                </div>
            </div>
        </t>
        <t t-if="!products.length">
            <div class="col-xs-2 col-md-2">
                <b>No matching product found</b>
            </div>
        </t>
    </t>

    <t t-name="cart_result">
        <div class="tags">
            <label>
                <input type="checkbox" id="display-all-cart" />
                Display carts in usage
            </label>
        </div>
        <!-- cart selection modal -->
        <div class="row">
            <t t-foreach="carts" t-as="cart">
                <a href="#" class="btn btn-lg btn-success cart col-md-3" t-att-cart-id="cart.id" t-att-cart-name="cart.name" t-att-is-in-usage="cart.is_in_usage">
                    <span class="glyphicon glyphicon-inbox" aria-hidden="true"></span> <t t-esc="cart.name" />
                </a>
            </t>
        </div>
    </t>

    <t t-name="worklocation_result">
        <!-- cart selection modal -->
        <div class="row">
            <t t-foreach="worklocations" t-as="worklocation">
                <a href="#" class="btn btn-lg btn-success worklocation col-md-3" t-att-worklocation-id="worklocation.id" t-att-worklocation-name="worklocation.name">
                    <span class="glyphicon glyphicon-inbox" aria-hidden="true"></span> <t t-esc="worklocation.name" />
                </a>
            </t>
        </div>
    </t>

    <t t-name="print_error_message">
        <!-- cart selection modal -->
        <span class='fa fa-times fa-10x' style='color:red'></span><b style='font-size: 2em'>  You didn't print enough labels</b>
        <a id="modal_print_button" href="#" class="btn btn-lg btn-success">
            Print missing labels
        </a>
    </t>

    <t t-name="no_cart_message">
        <!-- cart selection modal -->
        <span class='fa fa-times fa-10x' style='color:red'></span><b style='font-size: 2em'>No carts could be found. <br/> Please contact the warehouse manager</b>
    </t>

    <t t-name="change_user">
        <!-- cart selection modal -->
        <div class="row">
            <div class="col-md-3" />
            <div class="col-md-6" >
                <form class="oe_login_form" role="form" method="post" _lpchecked="1">
                    <div id="login-image" style="display:none"></div>
                    <div class="form-group">
                        <label for="login" class="control-label">Email</label>
                        <input id="login" type="text" class="form-control"/>
                    </div>
                    <div class="form-group">
                        <label for="password" class="control-label">Password</label>
                        <input id="password" type="password" class="form-control"/>
                    </div>
                </form>
            </div>
            <div class="col-md-3" />
        </div>
    </t>

    <t t-name="change_user_footer">
        <a id="modal_changer_user_button" href="#" class="btn btn-success">
            Change User
        </a>
    </t>

    <t t-name="result_more">
        <div class="text-center col-xs-12 col-md-12">
            <a href="#" id="more" role="button" class="btn btn-primary btn-lg">More...</a>
        </div>
    </t>

    <t t-name="inbound_line_list">
        <ul class="list-group">
            <div id="po_lines_panel">
                <t t-if="po_lines and po_lines.length">
                    <t t-call="po_line_panel"></t>
                </t>
            </div>
        </ul>
    </t>

    <t t-name="po_line_panel">
        <t t-set="i" t-value="1"/>
        <t t-foreach="po_lines" t-as="po_line">
            <li class="list-group-item">
                <a href="#" t-att-data-id="po_line.id">
                    <t t-call="display_lines"></t>
                </a>
            </li>
            <t t-set="i" t-value="i+1"/>
        </t>
    </t>

    <t t-name="display_lines">
        <div class="progress picking_progress" id="picking-progress-bar">
        <div t-att-id="po_line.id" class="progress-bar picking_done" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" t-att-style="'width: '+po_line.progress_done+'%;'"/>
            <div id="picking-name">
                <span t-esc="po_line.product_name"/>
            </div>
        </div>
        <div t-att-id="'package-'+po_line_index">
            <t t-if="po_line_first or display_first">
                <t t-if="first_item_boxes.length">
                    <ul class="list-group">
                        <t t-foreach="first_item_boxes" t-as="first_item_box">
                            <t t-if="current_package_barcode==first_item_box.barcode">
                                <t t-call="current_package"></t>
                            </t>
                            <t t-if="current_package_barcode!=first_item_box.barcode and first_item_box.is_closed==false">
                                <t t-call="open_package"></t>
                            </t>
                            <t t-if="current_package_barcode!=first_item_box.barcode and first_item_box.is_closed==true">
                                <t t-call="closed_package"></t>
                            </t>
                        </t>
                    </ul>
                </t>
            </t>
        </div>
    </t>

    <t t-name="current_package">
        <div>
            <t t-if="first_item_box.is_new==true">
                <li class='list-group-item fa fa-2x fa-dropbox list-boxes current-package extra-line'>
                    <span t-esc="first_item_box.barcode"/>
                    <span class='fa fa-times close-box-icon pull-right' t-att-box-barcode="first_item_box.barcode"></span>
                </li>
            </t>
            <t t-if="first_item_box.is_new==false">
                <li class='list-group-item fa fa-2x fa-dropbox list-boxes current-package'>
                    <span t-esc="first_item_box.barcode"/>
                    <span class='fa fa-times close-box-icon pull-right' t-att-box-barcode="first_item_box.barcode"></span>
                </li>
            </t>
        </div>
    </t>

    <t t-name="open_package">
        <t t-if="first_item_box.is_new==true">
            <li class='list-group-item fa fa-2x fa-dropbox list-boxes package-open extra-line'>
                <span t-esc="first_item_box.barcode"/>
                <span class='fa fa-times close-box-icon pull-right' t-att-box-barcode="first_item_box.barcode"></span>
            </li>
        </t>
        <t t-if="first_item_box.is_new==false">
            <li class='list-group-item fa fa-2x fa-dropbox list-boxes package-open'>
                <span t-esc="first_item_box.barcode"/>
                <span class='fa fa-times close-box-icon pull-right' t-att-box-barcode="first_item_box.barcode"></span>
            </li>
        </t>
    </t>

    <t t-name="closed_package">
        <t t-if="first_item_box.is_new==true">
            <li class='list-group-item fa fa-2x fa-dropbox list-boxes package-closed extra-line'>
                <span t-esc="first_item_box.barcode"/>
            </li>
        </t>
        <t t-if="first_item_box.is_new==false">
            <li class='list-group-item fa fa-2x fa-dropbox list-boxes package-closed'>
                <span t-esc="first_item_box.barcode"/>
            </li>
        </t>
    </t>

    <t t-name="product_page">
        <div class="container page">
            <div id='product_row'>
                <div class="row">
                    <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2">
                        <div id="po-lines-list">
                            <t t-call="inbound_line_list" />
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="row">
                            <div class="col-md-12">
                                <img id="product_image" t-att-src="product.image" class="center-block img-responsive"/>
                            </div>
                        </div>
                        <t t-if="product.requires_unpack or product.requires_relabel">
                            <div class="row">
                                <t t-if="product.requires_unpack">
                                    <div class="col-md-12">
                                        <div class="alert alert-warning info-prompt">
                                            <i class="fa fa-sign-out info-prompt-icon" aria-hidden="true"></i> Requires unpacking
                                        </div>
                                    </div>
                                </t>
                                <t t-if="product.requires_relabel">
                                    <div class="col-md-12">
                                        <div class="alert alert-warning info-prompt">
                                            <i class="fa fa-tags info-prompt-icon" aria-hidden="true"></i> Requires re-labelling
                                        </div>
                                    </div>
                                </t>
                            </div>
                        </t>
                    </div>
                    <div class="col-md-6">
                        <div class="row">
                            <div class="col-md-12">
                                <h1 id="product-name"><t t-esc="product.name"/></h1>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12" id="product_description">
                                <h3><t t-esc="product.description"/></h3>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <h4>Product code:</h4>
                            </div>
                            <div class="col-md-3">
                                <h4><t t-esc="product.default_code"/></h4>
                            </div>
                            <div class="col-md-3">
                                <h4>Supplier code:</h4>
                            </div>
                            <div class="col-md-3">
                                <h4><t t-esc="product.supplier_code"/></h4>
                            </div>
                        </div>

                        <t t-if="list_cart_with_product.length">
                            <div class="row">
                                <hr/>
                                <div class="col-md-12">
                                    <h4>Item is also in:</h4>
                                    <div class="information-box">
                                        <table class="table table-striped">
                                            <thead>
                                                <tr>
                                                    <th>Cart</th>
                                                    <th>Box</th>
                                                    <th>Quantity</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <t t-foreach="list_cart_with_product" t-as="item">
                                                    <tr>
                                                        <td><t t-esc="item.cart_name"/></td>
                                                        <td><t t-esc="item.box"/></td>
                                                        <td><t t-esc="item.quantity"/></td>
                                                    </tr>
                                                </t>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </t>

                        <div class="row">
                            <div class="col-md-12">
                                <hr/>
                                <h4>Barcodes</h4>
                            </div>
                        </div>
                        <div class="row">
                            <div id="barcodes">
                                <div class="col-md-2">
                                    <img class="img-responsive" src="/stock_irm/static/img/barcode.png" />
                                </div>
                                <div class="col-md-10 tags">
                                    <ul class="list-group">
                                        <t t-foreach="barcodes" t-as="barcode">
                                            <li class="list-group-item"><t t-esc="barcode"/></li>
                                        </t>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div id='qty_row'>
                <div class="row">
                    <div class="col-md-4">
                        <h4>Put in box:</h4>
                    </div>
                    <div class="col-md-3">
                        <h4>Quantity to add:</h4>
                    </div>
                    <div class="col-md-3">
                        <h4>Extra labels to print:</h4>
                    </div>
                    <div class="col-md-2">
                        <h4>Already printed:</h4>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4 text-center">
                        <div id="rack" data-target='#cartSelectionModal'>
                            <span>Select a cart</span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div id="quantity" class="input-group">
                            <span class="input-group-btn">
                                <button class="btn btn-default" data-dir="dwn"><span class="glyphicon glyphicon-minus"></span></button>
                            </span>
                            <input id="input_quantity" type="text" class="form-control text-center" value="1"/>
                            <span class="input-group-btn">
                                <button class="btn btn-default" data-dir="up"><span class="glyphicon glyphicon-plus"></span></button>
                            </span>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div id="label-quantity" class="input-group">
                            <span class="input-group-btn">
                                <button class="btn btn-default" data-dir="dwn"><span class="glyphicon glyphicon-minus"></span></button>
                            </span>
                            <input id="quantity_to_print" type="text" class="form-control text-center" value="0"/>
                            <span class="input-group-btn">
                                <button class="btn btn-default" data-dir="up"><span class="glyphicon glyphicon-plus"></span></button>
                            </span>
                        </div>
                    </div>
                    <div class="col-md-2">
                        <div id="label-printed" class="input-group">
                            <span class="input-group-btn">
                                <button class="btn btn-default" text="255" id="print_button" data-dir="print"><span class="glyphicon glyphicon-print"></span></button>
                            </span>
                            <input id="already_printed_quantity" type="text" class="form-control text-center" value="1" readonly="1"/>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </t>

    <t t-name="go_back">
        <div class="row">
            <div class="col-md-6">
                <a href="#" id="close" class="btn btn-danger pull-left goback"> Go Back </a>
            </div>
            <div class="col-md-6">
                <a href="#" id="continue_picking" class="btn btn-success continue"> Continue this picking </a>
            </div>
        </div>
    </t>

    <t t-name="exception_modal">
        <div class="row">
            <div class="col-xs-2 col-sm-2 col-md-2 col-lg-2 text-center">
                 <span class='fa fa-times error-icon'></span>
            </div>
            <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10">
                <h2><t t-esc="error"/></h2>
                <p class="error-message">
                    <t t-esc="message"/>
                </p>
            </div>
        </div>
    </t>

    <t t-name="supplier_purchase_orders">
        <div class="row">
            <t t-foreach="purchase_orders" t-as="purchase">
                <a href="#" class="btn btn-lg purchase-btn col-md-3" t-att-purchase-id="purchase.id" t-att-purchase-name="purchase.name">
                    <span class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></span> <t t-esc="purchase.name" />
                </a>
            </t>

        </div>
    </t>

    <t t-name="packing_order_note">
        <div class="row">
            <div class="col-xs-10 col-sm-10 col-md-10 col-lg-10 formfield">
                <label for="packing_note">note : </label>
                <textarea class="pull-right" id="packing_note" name="Note" rows="10"/>
            </div>
        </div>
    </t>

    <t t-name="packing_order_note_footer">
        <a href="#" id="confirm_note" class="btn btn-success pull-right">Confirm</a>
        <a href="#" id="cancel_note" class="btn btn-danger pull-left">Cancel</a>
    </t>

    <t t-name="confirm_purchase_orders">
        <a href="#" id="select_purchases" class="btn btn-success" style="display:none">Bound to Selected Purchases</a>
        <a href="#" id="no_purchases" class="btn btn-success">Continue Without Purchases</a>
    </t>

    <t t-name="box_barcode_modal">
        <input type="text" id="box_barcode"></input>
    </t>

    <t t-name="box_barcode_footer_modal">
        <a href="#" id="confirm_box_barcode" class="btn btn-success" >Confirm</a>
    </t>

    <t t-name="select_another_box_footer_modal">
        <a href="#" id="select_another" class="btn btn-success" >Select another box</a>
    </t>

    <t t-name="going_back_modal">
        <div class="row">
            <span class='fa fa-question-circle fa-5x space-10' style='color:orange'></span><b style='font-size: 2em'>If you continue, the following won't be added:</b>
        </div>
        <div class="row">
            <div class="col-xs-2 col-md-2">
                <a href="#" class="thumbnail">
                    <div class="square" t-att-style="'background-image:url(\'' + image + '\');'"></div>
                </a>
            </div>
            <div class="col-xs-2 col-md-2">
               <h3> Quantity: <span t-esc="quantity"/></h3>
            </div>
        </div>
    </t>

    <t t-name="going_back_modal_footer">
        <a href="#" id="continue" class="btn btn-success">Continue with this product</a>
        <a href="#" id="go_back" class="btn btn-danger pull-left">Cancel this product</a>
    </t>


    <t t-name="propose_close_box">
        <div class="row">
            <span class='fa fa-question-circle fa-5x space-10' style='color:orange'></span><b style='font-size: 2em'>Are you sure you want to close this box? </b>
        </div>
    </t>


    <t t-name="propose_close_box_footer">
        <a href="#" id="close" class="btn btn-lg btn-success pull-right"> Close This Box </a>
        <a href="#" id="cancel" class="btn btn-lg btn-danger pull-left"> Cancel </a>
    </t>

    <t t-name="rack_button">
        <span class="glyphicon glyphicon-arrow-right"></span><span t-esc="name"/>/<span t-esc="index"/>
    </t>

</templates>
