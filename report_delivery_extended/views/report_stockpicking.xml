<?xml version="1.0"?>
<openerp>
	<data>
		<template id="report_delivery_document">
			<t t-call="report.html_container">
				<t t-foreach="docs" t-as="o">
					<t t-call="report.external_layout">
						<div class="page">
							<div t-if="o.picking_type_id.code=='outgoing' and o.partner_id">
								<span>
									<strong>Customer Address:</strong>
								</span>
							</div>
							<div t-if="o.partner_id" name="partner_header">
								<div t-field="o.partner_id"
									t-field-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;address&quot;, &quot;name&quot;, &quot;phone&quot;, &quot;fax&quot;], &quot;no_marker&quot;: true}" />
								<p t-if="o.partner_id.vat">
									VAT:
									<span t-field="o.partner_id.vat" />
								</p>
							</div>
							<h2>
								<span>
									<strong>Delivery Note :</strong>
								</span>
								<span t-field="o.name" />
							</h2>
							<table class="table table-condensed">
								<thead>
									<tr>
										<th>
											<strong>Order (Origin)</strong>
										</th>
										<th>
											<strong>
												Reference (cliÃ«nt)
												<th>
													<strong> Date</strong>
												</th>
											</strong>
										</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>
											<span t-field="o.origin" />
										</td>
										<td>
											<span t-field="o.sale_id.client_order_ref" />
										</td>
										<td>
											<span t-esc="time.strftime('%Y-%m-%d')" />
										</td>
									</tr>
								</tbody>
							</table>
							<br />
							<br />
							
							<table class="table table-condensed" t-if="o.pack_operation_ids">
								<thead>
									<tr>
										<th>
											<strong>Product</strong>
										</th>
										<th class="text-right">
											<strong>Quantity</strong>
										</th>
<!-- 										<th class="text-right">
											<strong>Lot</strong>
										</th>
										<th class="text-right">
											<strong>Removal date</strong>
										</th> -->
									</tr>
								</thead>
								<tbody>
									<t t-foreach="o.pack_operation_ids" t-as="pack_operation">
										<tr>
											<td>
												<span t-field="pack_operation.product_id" />
												<t
													t-if="not pack_operation.product_id and pack_operation.package_id">
													<span t-field="pack_operation.package_id" />
												</t>
												<td class="text-right">
													<span t-field="pack_operation.product_qty" />
													<span t-field="pack_operation.product_uom_id" groups="product.group_uom" />
												</td>
<!-- 												<td class="text-right">
													<span t-field="pack_operation.lot_id" />
												</td>
												<td class="text-right">
													<span t-field="pack_operation.lot_id.removal_date" />
												</td> -->
												<t t-if="o.picking_type_id.code != 'outgoing'">
													<td>
														<span t-field="pack_operation.location_dest_id" />
														<span t-if="pack_operation.result_package_id">:</span>
														<span t-field="pack_operation.result_package_id" />
													</td>
												</t>
											</td>
										</tr>
									</t>
								</tbody>
							</table>
						</div>
					</t>
				</t>
			</t>
		</template>
		<template id="report_delivery">
			<t t-call="report.html_container">
				<t t-foreach="doc_ids" t-as="doc_id">
					<t
						t-raw="translate_doc(doc_id, doc_model, 'partner_id.lang', 'report_delivery_extended.report_delivery_document')" />
				</t>
			</t>
		</template>
	</data>
</openerp>